#!/bin/sh
grub_installer () {
          read -p "bios or efi? " type
          if [ $type == "bios" ]
          then
                  read -p "Where? (ex. /dev/sda, BE SURE ABOUT THIS): " path
                  grub-install --target=i386-pc $path
          elif [ $type == "efi" ]
          then
                  grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB
          fi
	  grub-mkconfig -o /boot/grub/grub.cfg
  }

#set root passwd
echo "Root user password"
passwd

echo "timezone and locale config ->"
ln -sf /usr/share/zoneinfo/America/New_York /etc/localtime
hwclock --systohc
sed -i -e 's/#en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen
locale-gen

echo "host info->"
echo "arch-basic">>/etc/hostname

echo "Enable network on start up->"
systemctl enable NetworkManager

#Bootloader
read -p "Intsall Grub?(y/n) " yn
if [ $yn == "y" ]; then grub_installer
fi

read -p "Enter User Name: " user
useradd -m $user
passwd $user

#sudo priviledges
echo "$user ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers


