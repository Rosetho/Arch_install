echo "timezone and locale config ->"
ln -sf /usr/share/zoneinfo/America/New_York /etc/localtime
hwclock --systohc
sed -i -e 's/#en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen
locale-gen

echo "host info->"
echo "arch-basic">>/etc/hostname
touch /etc/hosts
cat hosts >> /etc/hosts

read -p "Shall we installing/config grub on sda?"
grub-install --target=i386-pc /dev/sda
grub-mkconfig -o /boot/grub/grub.cfg

echo "Enable network on start up->"
systemctl enable NetworkManager

echo "User passwd"
useradd -m tom
passwd tom

#auto start desktop, but we should write our own /etc/profile
echo "startx" >> /etc/profile

read -p "You're about to install the extra packages"
pacman -Sy --noconfirm firefox dmenu chromium picom alsa-utils xorg-xsetroot xorg-xinit xorg-server git go make nitrogen termite

read -p "Clone your desktop?"
git clone https://github.com/Rosetho/dwm.git /home/tom/.local/bin
git clone https://github.com/Rosetho/dwm.git /home/tom/dwm
cd /home/tom/dwm
make clean install
cd
read -p "We're going to set root priveliges to you, new user, then leave changeroot env"
# sudo priviledges to new user
echo "tom ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers
